<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë§ˆë²•ìš”ë¦¬ì‚¬ ê²Œì„</title>
<style>
body {
  margin:0;
  background:#1b1b2b;
  font-family:Arial;
  overflow:hidden;
  user-select:none;
}
#game { position:relative; width:100vw; height:100vh; }

/* ì•„ì´í…œ */
.item {
  position:absolute;
  width:50px; height:50px;
  font-size:30px;
  display:flex; align-items:center; justify-content:center;
  background:#333; border-radius:10px;
  cursor:pointer;
}

/* ì¸ë²¤í† ë¦¬ */
#inventory, #crafted {
  position:absolute;
  bottom:20px;
  display:flex; gap:8px;
  background:rgba(0,0,0,0.6);
  padding:10px; border-radius:12px;
}
#inventory { left:20px; }
#crafted { right:20px; }

.slot {
  width:48px; height:48px;
  border:2px dashed #777;
  display:flex; align-items:center; justify-content:center;
  font-size:24px;
  cursor:pointer;
}

/* ìš”ë¦¬ì‚¬ */
#chef {
  position:absolute;
  right:50%; bottom:120px;
  transform:translateX(50%);
  width:140px; height:200px;
  background:#444;
  border-radius:20px;
  font-size:90px;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer;
}

/* ìš”ë¦¬ UI */
#cook-ui {
  position:absolute; inset:0;
  background:rgba(0,0,0,0.9);
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  color:white;
}

#cook-slots { display:flex; gap:20px; margin-bottom:20px; }
.cook-slot {
  width:70px; height:70px;
  border:2px solid #aaa;
  font-size:36px;
  display:flex; align-items:center; justify-content:center;
}

/* ê²Œì´ì§€ */
.gauge {
  position:relative;
  width:340px; height:26px;
  background:#333;
  border-radius:13px;
  overflow:hidden;
  margin:10px 0;
}
.fill { height:100%; width:50%; background:linear-gradient(90deg,#0066ff,#00ff88,#ffcc00,#ff3300); }

/* ì˜¨ë„ ì•ˆì „êµ¬ê°„ */
.safe-temp {
  position:absolute;
  left:35%;
  width:30%;
  height:100%;
  background:rgba(255,215,0,0.35);
}

/* ì§„í–‰ë„ ì„±ê³µêµ¬ê°„ */
.safe-progress {
  position:absolute;
  left:60%;
  width:20%;
  height:100%;
  background:rgba(255,50,50,0.4);
}

.progress-fill { height:100%; width:0%; background:#00ff88; }

#controls { display:flex; gap:20px; margin-top:15px; }
button { padding:10px 22px; font-size:18px; cursor:pointer; }

#timer { margin-top:10px; font-size:20px; }
#result { margin-top:15px; font-size:26px; }
</style>
</head>
<body>

<div id="game">
  <div id="inventory"></div>
  <div id="crafted"></div>
  <div id="chef">ğŸ§™â€â™‚ï¸</div>

  <div id="cook-ui">
    <h1>ë§ˆë²• ìš”ë¦¬</h1>

    <div id="cook-slots">
      <div class="cook-slot"></div>
      <div class="cook-slot"></div>
      <div class="cook-slot"></div>
    </div>

    <div>ğŸ”¥ ì˜¨ë„</div>
    <div class="gauge">
      <div class="safe-temp"></div>
      <div class="fill" id="heat-fill"></div>
    </div>

    <div>ğŸ² ì§„í–‰ë„</div>
    <div class="gauge">
      <div class="safe-progress"></div>
      <div class="progress-fill" id="cook-fill"></div>
    </div>

    <div id="timer">ë‚¨ì€ ì‹œê°„: 120ì´ˆ</div>

    <div id="controls">
      <button id="fire">ğŸ”¥ ë¶ˆ</button>
      <button id="water">ğŸ’§ ë¬¼</button>
    </div>

    <div id="result"></div>
  </div>
</div>

<script>
/* ===== DOM ===== */
const game = document.getElementById("game");
const inventoryDiv = document.getElementById("inventory");
const craftedDiv = document.getElementById("crafted");
const chef = document.getElementById("chef");
const cookUI = document.getElementById("cook-ui");
const heatFill = document.getElementById("heat-fill");
const cookFill = document.getElementById("cook-fill");
const timer = document.getElementById("timer");
const result = document.getElementById("result");

/* ===== ë°ì´í„° ===== */
const spawnItems = ["ğŸ¸","ğŸ¥š","ğŸŒ¿"];
const resultItems = ["ğŸª„ë³€ì‹ ë„êµ¬","ğŸ‘•ì˜·","âœ¨í˜•ê´‘ì˜·","ğŸ“ºTV","ğŸ§ºì˜·ì¥","ğŸ”Œê°€ì „"];

let inventory = [];
let crafted = [];
let cookingItems = [];

let heat = 50;
let progress = 0;
let timeLeft = 120;
let cooking = false;
let spawnTimer;

/* ===== ì•„ì´í…œ ìŠ¤í° ===== */
function startSpawn(){
  spawnTimer = setInterval(()=>{
    if(cooking) return;
    const el=document.createElement("div");
    el.className="item";
    el.textContent=spawnItems[Math.floor(Math.random()*spawnItems.length)];
    el.style.left=Math.random()*(innerWidth-60)+"px";
    el.style.top=Math.random()*(innerHeight-200)+"px";
    el.onclick=()=>{
      if(inventory.length<5){
        inventory.push(el.textContent);
        updateInventory();
        el.remove();
      }
    };
    game.appendChild(el);
  },1500);
}
startSpawn();

/* ===== ì¸ë²¤í† ë¦¬ ===== */
function updateInventory(){
  inventoryDiv.innerHTML="";
  inventory.forEach((it,i)=>{
    const s=document.createElement("div");
    s.className="slot";
    s.textContent=it;
    s.onclick=()=>{
      if(cookingItems.length<3){
        cookingItems.push(it);
        inventory.splice(i,1);
        updateInventory();
        updateCookSlots();
      }
    };
    inventoryDiv.appendChild(s);
  });
}

/* ===== ì œì‘ ì•„ì´í…œ ===== */
function updateCrafted(){
  craftedDiv.innerHTML="";
  crafted.forEach(it=>{
    const s=document.createElement("div");
    s.className="slot";
    s.textContent=it;
    craftedDiv.appendChild(s);
  });
}

/* ===== ìš”ë¦¬ ===== */
chef.onclick=()=>{
  if(cookingItems.length===0){
    alert("ì¬ë£Œë¥¼ ë„£ì–´ì£¼ì„¸ìš”!");
    return;
  }
  cooking=true;
  cookUI.style.display="flex";
  document.querySelectorAll(".item").forEach(i=>i.remove());
};

function updateCookSlots(){
  document.querySelectorAll(".cook-slot").forEach((s,i)=>{
    s.textContent=cookingItems[i]||"";
  });
}

document.getElementById("fire").onclick=()=>heat+=4;
document.getElementById("water").onclick=()=>heat-=4;

/* ===== ë£¨í”„ ===== */
setInterval(()=>{
  if(!cooking) return;

  heat=Math.max(0,Math.min(100,heat));
  heatFill.style.width=heat+"%";

  // ì˜¨ë„ ì•ˆì „êµ¬ê°„
  const tempOK = heat>=35 && heat<=65;

  if(tempOK){
    progress+=1;
  }

  progress=Math.min(100,progress);
  cookFill.style.width=progress+"%";

  timeLeft--;
  timer.textContent="ë‚¨ì€ ì‹œê°„: "+timeLeft+"ì´ˆ";

  // ì„±ê³µ ì¡°ê±´: ì§„í–‰ë„ 60~80 ì‚¬ì´ì—ì„œ ì˜¨ë„ OK
  if(progress>=60 && progress<=80 && tempOK){
    finish(true);
  }

  if(timeLeft<=0){
    finish(false);
  }
},1000);

/* ===== ì¢…ë£Œ ===== */
function finish(success){
  cooking=false;

  if(success){
    const newItem=resultItems[Math.floor(Math.random()*resultItems.length)];
    crafted.push(newItem);
    updateCrafted();
    result.textContent="âœ¨ ì„±ê³µ! "+newItem+" íšë“!";
  } else {
    result.textContent="ğŸ’¥ ì‹¤íŒ¨!";
  }

  setTimeout(()=>{
    cookUI.style.display="none";
    result.textContent="";
    cookingItems=[];
    progress=0;
    heat=50;
    timeLeft=120;
    updateCookSlots();
  },2500);
}
</script>

</body>
</html>
